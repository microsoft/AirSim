<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Code Structure - AirSim</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Code Structure";
    var mkdocs_page_input_path = "code_structure.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> AirSim</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">Home</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../CHANGELOG/">Changelog</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Get AirSim</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../use_precompiled/">Download Binaries</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../build_windows/">Build on Windows</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../build_linux/">Build on Linux</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../docker_ubuntu/">Docker on Linux</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../azure/">AirSim on Azure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../unreal_custenv/">Custom Unreal Environment</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Unity/">AirSim with Unity</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../custom_unity_environments/">Custom Unity Environment</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../unity_api_support/">Unity APIs</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Using AirSim</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../apis/">Core APIs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../image_apis/">Image APIs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../apis_cpp/">C++ APIs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../api_docs/html/">API Reference Docs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev_workflow/">Development Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../settings/">Settings</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../camera_views/">Camera Views</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../using_car/">Car Mode</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../remote_control/">Remote Control</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../xbox_controller/">XBox Controller</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../steering_wheel_installation/">Steering Wheel</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../multi_vehicle/">Multiple Vehicles</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Sensors</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../sensors/">Sensors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../lidar/">LIDAR</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../distance_sensor/">Distance Sensor</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../InfraredCamera/">Infrared Camera</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../airsim_ros_pkgs/">ROS: AirSim ROS Wrapper</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../airsim_tutorial_pkgs/">ROS: AirSim Tutorial Packages</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../retexturing/">Domain Randomization</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../meshes/">Mesh Vertex Buffers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../playback/">Playing Logs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../voxel_grid/">Voxel Grid Generator</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../event_sim/">Event camera</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Design</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../design/">Architecture</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Code Structure</a>
    <ul class="current">
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../coding_guidelines/">Coding Guidelines</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../flight_controller/">Flight Controller</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../simple_flight/">Simple Flight</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../hello_drone/">Hello Drone</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">External Flight Controllers</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">MavLink and PX4</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../px4_setup/">PX4 Setup for AirSim</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../px4_sitl/">PX4 in SITL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../px4_sitl_wsl2/">PX4 SITL with WSL 2</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../px4_lockstep/">PX4 Lockstep</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../px4_multi_vehicle/">PX4 Multi-vehicle in SITL</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://youtu.be/1oY8Qu5maQQ">AirSim with Pixhawk</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://youtu.be/HNWdYrtw3f0">PX4 Setup with AirSim</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://www.youtube.com/watch?v=d_FyjKDWQfc&feature=youtu.be">Debugging Attitude Estimation</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://github.com/Microsoft/AirSim/wiki/Intercepting-MavLink-messages">Intercepting MavLink Messages</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://github.com/Microsoft/AirSim/wiki/Rapid-Descent-on-PX4-drones">Rapid Descent on PX4 Drones</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../px4_build/">Building PX4</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../px4_logging/">PX4/MavLink Logging</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../log_viewer/">MavLink LogViewer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../mavlinkcom/">MavLinkCom</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../mavlinkcom_mocap/">MavLink MoCap</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">ArduPilot</a>
    <ul>
                <li class="toctree-l2"><a class="" href="https://ardupilot.org/dev/docs/building-the-code.html">ArduPilot SITL Setup</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://ardupilot.org/dev/docs/sitl-with-airsim.html">AirSim & ArduPilot</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Upgrading</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../unreal_upgrade/">Upgrading Unreal</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../upgrade_apis/">Upgrading APIs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../upgrade_settings/">Upgrading Settings</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Contributed Tutorials</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../reinforcement_learning/">Reinforcement Learning</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://www.youtube.com/watch?v=y09VbdQWvQY">Using Environments from Marketplace</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/simondlevy/AirSimTensorFlow">Simple Collision Avoidance</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://aka.ms/AutonomousDrivingCookbook">Autonomous Driving on Azure</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/hexacopter">Building Hexacopter</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/moveOnPath-demo">Moving on Path Demo</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../point_clouds/">Building Point Clouds</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../drone_survey/">Surveying Using Drone</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../orbit/">Orbit Trajectory</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://youtu.be/Bp86WiLUC80">Importing a custom multirotor mesh</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Misc</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../custom_drone/">AirSim on Real Drones</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cmake_linux/">Installing cmake on Linux</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../hard_drive/">Tips for Busy HDD</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pfm/">pfm format</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../unreal_proj/">Setting up Unreal Environment</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../unreal_blocks/">Blocks Environment</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../who_is_using/">Who is Using AirSim</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../working_with_plugin_contents/">Working with UE Plugin Contents</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="https://github.com/Microsoft/AirSim/wiki/technion">Formula Student Technion Self-drive</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Support</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../faq/">FAQ</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../SUPPORT/">Support</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../create_issue/">Create Issue</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING/">Contribute</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">AirSim</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Design &raquo;</li>
        
      
    
    <li>Code Structure</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/microsoft/airsim/edit/master/docs/code_structure.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="airlib">AirLib<a class="headerlink" href="#airlib" title="Permanent link">#</a></h2>
<p>Majority of the code is located in AirLib. This is a self-contained library that you should be able to compile with any C++11 compiler.</p>
<p>AirLib consists of the following components:
1. <em>Physics engine:</em> This is header-only physics engine. It is designed to be fast and extensible to implement different vehicles.
2. <em>Sensor models:</em> This is header-only models for Barometer, IMU, GPS and Magnetometer
3. <em>Vehicle models:</em> This is header-only models for vehicle configurations and models. Currently we have implemented model for a MultiRotor and a configuration for PX4 QuadRotor in the X config.
4. <em>Control library:</em> This part of AirLib provides abstract base class for our APIs and concrete implementation for specific vehicle platforms such as MavLink. It also has classes for the RPC client and server.</p>
<h2 id="unrealpluginsairsim">Unreal/Plugins/AirSim<a class="headerlink" href="#unrealpluginsairsim" title="Permanent link">#</a></h2>
<p>This is the only portion of project which is dependent on Unreal engine. We have kept it isolated so we can implement simulator for other platforms as well (for example, Unity). The Unreal code takes advantage of its UObject based classes including Blueprints.
1. <em>SimMode_ classes</em>: We wish to support various simulator modes such as pure Computer Vision mode where there is no drone. The SimMode classes help implement many different modes.
2. <em>VehiclePawnBase</em>: This is the base class for all vehicle pawn visualizations.
3. <em>VehicleBase</em>: This class provides abstract interface to implement a combination of rendering component (i.e. Unreal pawn), physics component (i.e. MultiRotor) and controller (i.e. MavLinkHelper).</p>
<h2 id="mavlinkcom">MavLinkCom<a class="headerlink" href="#mavlinkcom" title="Permanent link">#</a></h2>
<p>This is the library developed by our own team member <a href="https://github.com/lovettchris">Chris Lovett</a> that provides C++ classes to talk to the MavLink devices. This library is stand alone and can be used in any project.
See <a href="https://github.com/Microsoft/AirSim/tree/master/MavLinkCom//README.md">MavLinkCom</a> for more info.</p>
<h2 id="sample-programs">Sample Programs<a class="headerlink" href="#sample-programs" title="Permanent link">#</a></h2>
<p>We have created a few sample programs to demonstrate how to use the API. See HelloDrone and DroneShell. 
DroneShell demonstrates how to connect to the simulator using UDP.  The simulator is running a server (similar to DroneServer).</p>
<h2 id="contributing">Contributing<a class="headerlink" href="#contributing" title="Permanent link">#</a></h2>
<p>See <a href="../CONTRIBUTING/">Contribution Guidelines</a></p>
<h2 id="unreal-framework">Unreal Framework<a class="headerlink" href="#unreal-framework" title="Permanent link">#</a></h2>
<p>The following picture illustrates how AirSim is loaded and invoked by the Unreal Game Engine:</p>
<p><img alt="AirSimConstruction" src="../images/airsim_startup.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../coding_guidelines/" class="btn btn-neutral float-right" title="Coding Guidelines">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../design/" class="btn btn-neutral" title="Architecture"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2021 Microsoft Research</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/microsoft/airsim/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../design/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../coding_guidelines/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
